{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/components/askQuestion/AskQuestion.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Button, Modal, Form, Input, Icon, Select } from \"antd\";\nimport TextArea from \"antd/lib/input/TextArea\";\nimport { connect } from \"react-redux\";\nimport { askQuestion as _askQuestion } from '../../redux/index';\nimport ReactMarkdown from \"react-markdown\";\nimport cookie from \"react-cookies\";\nimport Router from 'next/router';\n\nfunction AskQuestion(props) {\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      description = _useState2[0],\n      setDescription = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      title = _useState3[0],\n      setTitle = _useState3[1];\n\n  var _useState4 = useState([]),\n      tags = _useState4[0],\n      setTags = _useState4[1];\n\n  var showModal = function showModal() {\n    if (!cookie.load('token')) {\n      Router.push('/login');\n      return setVisible(false);\n    }\n\n    setVisible(true);\n  };\n\n  var handleOk = function handleOk(e) {\n    return _regeneratorRuntime.async(function handleOk$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(e);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(props.askQuestion({\n              title: title,\n              description: description,\n              tags: tags\n            }));\n\n          case 3:\n            setDescription(\"\");\n            setTitle(\"\");\n            setTags([]);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var handleCancel = function handleCancel(e) {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var handleTagChange = function handleTagChange(val) {\n    setTags(val);\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(Button, {\n    type: \"primary\",\n    onClick: showModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, props.children), __jsx(Modal, {\n    title: \"Ask A Question\",\n    visible: visible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(Form, {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(Input, {\n    value: title,\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    placeholder: \"Title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), __jsx(ReactMarkdown, {\n    source: description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), __jsx(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(TextArea, {\n    placeholder: \"Enter Your Question Description( Mark Down Supported)\",\n    autoSize: {\n      minRows: 2\n    },\n    value: description,\n    onChange: function onChange(e) {\n      return setDescription(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), __jsx(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, __jsx(Select, {\n    mode: \"tags\",\n    style: {\n      width: \"100%\"\n    },\n    tokenSeparators: [\",\"],\n    value: tags,\n    onChange: handleTagChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    askQuestion: function askQuestion(data) {\n      return _askQuestion(data)(dispatch);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AskQuestion);","map":{"version":3,"sources":["/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/components/askQuestion/AskQuestion.js"],"names":["React","useState","Button","Modal","Form","Input","Icon","Select","TextArea","connect","askQuestion","ReactMarkdown","cookie","Router","AskQuestion","props","visible","setVisible","description","setDescription","title","setTitle","tags","setTags","showModal","load","push","handleOk","e","console","log","handleCancel","handleTagChange","val","children","target","value","minRows","width","mapStateToProps","state","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Modal, Form, Input, Icon, Select } from \"antd\";\nimport TextArea from \"antd/lib/input/TextArea\";\nimport { connect } from \"react-redux\";\nimport {askQuestion} from '../../redux/index';\nimport ReactMarkdown from \"react-markdown\";\nimport cookie from \"react-cookies\";\nimport Router from 'next/router'\n\nfunction AskQuestion(props) {\n  const [visible, setVisible] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [tags,setTags] = useState([]);\n\n  const showModal = () => {\n    if(!cookie.load('token')){\n      Router.push('/login')\n      return setVisible(false);\n    }\n    setVisible(true);\n  };\n\n  const handleOk = async e => {\n    console.log(e);\n    await props.askQuestion({title,description,tags})\n    setDescription(\"\")\n    setTitle(\"\")\n    setTags([])\n  };\n\n  const handleCancel = e => {\n    console.log(e);\n    setVisible(false);\n  };\n  const handleTagChange = val => {\n        setTags(val)\n  }\n\n  return (\n    <div>\n      <Button type=\"primary\" onClick={showModal}>\n        {props.children}\n      </Button>\n      <Modal\n        title=\"Ask A Question\"\n        visible={visible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <Form className=\"login-form\">\n          <Form.Item>\n            <Input\n              value={title}\n              onChange={e => setTitle(e.target.value)}\n              placeholder=\"Title\"\n            />\n          </Form.Item>\n          <ReactMarkdown source={description} />\n          <Form.Item>\n            <TextArea\n              placeholder=\"Enter Your Question Description( Mark Down Supported)\"\n              autoSize={{ minRows: 2 }}\n              value={description}\n              onChange={e => setDescription(e.target.value)}\n            />\n          </Form.Item>\n          <Form.Item>\n            <Select\n              mode=\"tags\"\n              style={{ width: \"100%\" }}\n              tokenSeparators={[\",\"]}\n              value={tags}\n              onChange={handleTagChange}\n            ></Select>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = state => ({});\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n      askQuestion: (data) =>\n        askQuestion(data)(dispatch)\n    };\n  };\nexport default connect(mapStateToProps,mapDispatchToProps)(AskQuestion);\n"]},"metadata":{},"sourceType":"module"}