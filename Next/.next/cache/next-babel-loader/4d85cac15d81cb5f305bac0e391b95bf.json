{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/register.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox, message } from \"antd\";\nimport { connect } from \"react-redux\";\nimport cookie from \"react-cookies\";\nimport Router from \"next/router\";\nimport Layout from \"../components/layout/Layout\";\nimport RegisterForm from \"../components/forms/RegisterForm\";\nimport { registerUser as _registerUser } from \"../redux/index\";\n\nfunction RegisterPage(props) {\n  useEffect(function () {\n    if (cookie.load(\"token\")) {\n      return Router.push(\"/\");\n    }\n  }, []);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    props.form.validateFields(function _callee(err, values) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (err) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(props.registerUser(values, props.history, message));\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 6]]);\n    });\n  };\n\n  var getFieldDecorator = props.form.getFieldDecorator;\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"login__form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, __jsx(RegisterForm, {\n    getFieldDecorator: getFieldDecorator,\n    registerLoader: props.registerLoader,\n    handleSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })));\n}\n\nvar WrappedRegisterForm = Form.create({\n  name: \"register_form\"\n})(RegisterPage);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    registerLoader: state.user.registerLoader\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    registerUser: function registerUser(data, history, message) {\n      return _registerUser(data, history, message)(dispatch);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedRegisterForm);","map":{"version":3,"sources":["/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/register.js"],"names":["React","useEffect","Form","Icon","Input","Button","Checkbox","message","connect","cookie","Router","Layout","RegisterForm","registerUser","RegisterPage","props","load","push","handleSubmit","e","preventDefault","form","validateFields","err","values","history","getFieldDecorator","registerLoader","WrappedRegisterForm","create","name","mapStateToProps","state","user","mapDispatchToProps","dispatch","data"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,QAApC,EAA8CC,OAA9C,QAA6D,MAA7D;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AAEA,SAASC,YAAY,IAAZA,aAAT,QAA6B,gBAA7B;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAE3Bd,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIQ,MAAM,CAACO,IAAP,CAAY,OAAZ,CAAJ,EAA0B;AACxB,aAAON,MAAM,CAACO,IAAP,CAAY,GAAZ,CAAP;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,CAAC,EAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAL,IAAAA,KAAK,CAACM,IAAN,CAAWC,cAAX,CAA0B,iBAAOC,GAAP,EAAYC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,kBACnBD,GADmB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,+CAGdR,KAAK,CAACF,YAAN,CAAmBW,MAAnB,EAA2BT,KAAK,CAACU,OAAjC,EAA0ClB,OAA1C,CAHc;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1B;AAOD,GATD;;AAR2B,MAmBnBmB,iBAnBmB,GAmBGX,KAAK,CAACM,IAnBT,CAmBnBK,iBAnBmB;AAqB3B,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AACE,IAAA,iBAAiB,EAAEA,iBADrB;AAEE,IAAA,cAAc,EAAEX,KAAK,CAACY,cAFxB;AAGE,IAAA,YAAY,EAAET,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF;AAWD;;AACD,IAAMU,mBAAmB,GAAG1B,IAAI,CAAC2B,MAAL,CAAY;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAZ,EAC1BhB,YAD0B,CAA5B;;AAIA,IAAMiB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCL,IAAAA,cAAc,EAAEK,KAAK,CAACC,IAAN,CAAWN;AADK,GAAL;AAAA,CAA7B;;AAIA,IAAMO,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACLtB,IAAAA,YAAY,EAAE,sBAACuB,IAAD,EAAOX,OAAP,EAAgBlB,OAAhB;AAAA,aACZM,aAAY,CAACuB,IAAD,EAAOX,OAAP,EAAgBlB,OAAhB,CAAZ,CAAqC4B,QAArC,CADY;AAAA;AADT,GAAP;AAID,CALD;;AAMA,eAAe3B,OAAO,CACpBuB,eADoB,EAEpBG,kBAFoB,CAAP,CAGbN,mBAHa,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox, message } from \"antd\";\nimport { connect } from \"react-redux\";\nimport cookie from \"react-cookies\";\nimport Router from \"next/router\";\n\nimport Layout from \"../components/layout/Layout\";\nimport RegisterForm from \"../components/forms/RegisterForm\";\n\nimport { registerUser } from \"../redux/index\";\n\nfunction RegisterPage(props) {\n\n  useEffect(() => {\n    if (cookie.load(\"token\")) {\n      return Router.push(\"/\");\n    }\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.form.validateFields(async (err, values) => {\n      if (!err) {\n        try {\n          await props.registerUser(values, props.history, message);\n        } catch (err) {}\n      }\n    });\n  };\n\n  const { getFieldDecorator } = props.form;\n\n  return (\n    <Layout>\n      <div className=\"login__form-container\">\n        <RegisterForm\n          getFieldDecorator={getFieldDecorator}\n          registerLoader={props.registerLoader}\n          handleSubmit={handleSubmit}\n        />\n      </div>\n    </Layout>\n  );\n}\nconst WrappedRegisterForm = Form.create({ name: \"register_form\" })(\n  RegisterPage\n);\n\nconst mapStateToProps = state => ({\n  registerLoader: state.user.registerLoader\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    registerUser: (data, history, message) =>\n      registerUser(data, history, message)(dispatch)\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(WrappedRegisterForm);\n"]},"metadata":{},"sourceType":"module"}