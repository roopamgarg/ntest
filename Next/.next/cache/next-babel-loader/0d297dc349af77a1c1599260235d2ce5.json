{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/login.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { message } from \"antd\";\nimport Link from \"next/link\";\nimport cookie from \"react-cookies\";\nimport Router from 'next/router';\nimport Layout from \"../components/layout/Layout\";\nimport LoginForm from \"../components/forms/LoginForm\";\nimport { loginUser as _loginUser } from \"../redux/index\";\n\nfunction LoginPage(props) {\n  useEffect(function () {\n    if (cookie.load('token')) {\n      return Router.push('/', '/', {\n        shallow: true\n      });\n    }\n  }, []);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    props.form.validateFields(function _callee(err, values) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (err) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.prev = 1;\n              console.log(\"Received values of form: \", values);\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(props.loginUser(values, message));\n\n            case 5:\n              _context.next = 9;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 7]]);\n    });\n  };\n\n  var getFieldDecorator = props.form.getFieldDecorator;\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"login__form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, __jsx(LoginForm, {\n    getFieldDecorator: getFieldDecorator,\n    loginLoader: props.loginLoader,\n    handleSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  })));\n}\n\nvar WrappedLoginForm = Form.create({\n  name: \"login_form\"\n})(LoginPage);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loginLoader: state.user.loginLoader\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    loginUser: function loginUser(data, message) {\n      return _loginUser(data, message)(dispatch);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedLoginForm);","map":{"version":3,"sources":["/home/roopam/Videos/redcarpet/stack-overflow-clone/next-app/pages/login.js"],"names":["React","useEffect","Form","Icon","Input","Button","Checkbox","connect","message","Link","cookie","Router","Layout","LoginForm","loginUser","LoginPage","props","load","push","shallow","handleSubmit","e","preventDefault","form","validateFields","err","values","console","log","getFieldDecorator","loginLoader","WrappedLoginForm","create","name","mapStateToProps","state","user","mapDispatchToProps","dispatch","data"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,QAApC,QAAoD,MAApD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,OAAQC,IAAR,MAAkB,WAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAQC,MAAR,MAAoB,aAApB;AAEA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AAEA,SAASC,SAAS,IAATA,UAAT,QAA0B,gBAA1B;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAExBf,EAAAA,SAAS,CAAC,YAAI;AACZ,QAAGS,MAAM,CAACO,IAAP,CAAY,OAAZ,CAAH,EAAwB;AACtB,aAAON,MAAM,CAACO,IAAP,CAAY,GAAZ,EAAgB,GAAhB,EAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACA;AACH,GAJQ,EAIP,EAJO,CAAT;;AAKA,MAAMC,YAAY,GAAI,SAAhBA,YAAgB,CAAAC,CAAC,EAAI;AACzBA,IAAAA,CAAC,CAACC,cAAF;AAEAN,IAAAA,KAAK,CAACO,IAAN,CAAWC,cAAX,CAA0B,iBAAOC,GAAP,EAAYC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,kBACnBD,GADmB;AAAA;AAAA;AAAA;;AAAA;AAGtBE,cAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,MAAzC;AAHsB;AAAA,+CAIhBV,KAAK,CAACF,SAAN,CAAgBY,MAAhB,EAAwBlB,OAAxB,CAJgB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1B;AAUD,GAbD;;AAPwB,MAqBhBqB,iBArBgB,GAqBMb,KAAK,CAACO,IArBZ,CAqBhBM,iBArBgB;AAsBxB,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AACE,IAAA,iBAAiB,EAAEA,iBADrB;AAEE,IAAA,WAAW,EAAEb,KAAK,CAACc,WAFrB;AAGE,IAAA,YAAY,EAAEV,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADA,CADF;AAWD;;AAED,IAAMW,gBAAgB,GAAG7B,IAAI,CAAC8B,MAAL,CAAY;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAZ,EAAoClB,SAApC,CAAzB;;AACA,IAAMmB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCL,IAAAA,WAAW,EAAEK,KAAK,CAACC,IAAN,CAAWN;AADQ,GAAL;AAAA,CAA7B;;AAIA,IAAMO,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACLxB,IAAAA,SAAS,EAAG,mBAACyB,IAAD,EAAO/B,OAAP;AAAA,aACVM,UAAS,CAACyB,IAAD,EAAO/B,OAAP,CAAT,CAAyB8B,QAAzB,CADU;AAAA;AADP,GAAP;AAID,CALD;;AAMA,eAAe/B,OAAO,CAAC2B,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CN,gBAA7C,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { message } from \"antd\";\nimport  Link from \"next/link\";\nimport cookie from \"react-cookies\";\nimport  Router from 'next/router';\n\nimport Layout from \"../components/layout/Layout\";\nimport LoginForm from \"../components/forms/LoginForm\";\n\nimport { loginUser } from \"../redux/index\";\n\nfunction LoginPage(props) {\n    \n  useEffect(()=>{\n    if(cookie.load('token')){\n      return Router.push('/','/', { shallow: true })\n     }\n  },[])\n  const handleSubmit =  e => {\n    e.preventDefault();\n\n    props.form.validateFields(async (err, values) => {\n      if (!err) {\n        try{\n        console.log(\"Received values of form: \", values);\n        await props.loginUser(values, message);\n        }catch(err){\n\n        }\n      }\n    });\n  };\n  const { getFieldDecorator } = props.form;\n  return (\n    <Layout>\n    <div className=\"login__form-container\">\n      <LoginForm \n        getFieldDecorator={getFieldDecorator} \n        loginLoader={props.loginLoader} \n        handleSubmit={handleSubmit}\n      />\n    </div>\n    </Layout>\n  );\n}\n\nconst WrappedLoginForm = Form.create({ name: \"login_form\" })(LoginPage);\nconst mapStateToProps = state => ({\n  loginLoader: state.user.loginLoader\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginUser:  (data, message) => \n      loginUser(data, message)(dispatch)\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedLoginForm);\n"]},"metadata":{},"sourceType":"module"}